hljs.registerLanguage("nix", (() => {
  "use strict";
  return e => {
    const n = {
              keyword: "rec with let in inherit assert if else then",
              literal: "true false or and null",
              built_in:
                "import abort baseNameOf dirOf isNull builtins map removeAttrs throw toString derivation",
            };

    const i = { className: "subst", begin: /\$\{/, end: /}/, keywords: n };

    const t = {
      className: "string",
      contains: [i],
      variants: [
        { begin: "''", end: "''" },
        { begin: '"', end: '"' },
      ],
    };

    const s = [
      e.NUMBER_MODE,
      e.HASH_COMMENT_MODE,
      e.C_BLOCK_COMMENT_MODE,
      t,
      {
        begin: /[a-zA-Z0-9-_]+(\s*=)/,
        returnBegin: !0,
        relevance: 0,
        contains: [
          {
            className: "attr",
            begin: /\S+/,
          },
        ],
      },
    ];

    return (
      (i.contains = s),
      { name: "Nix", aliases: ["nixos"], keywords: n, contains: s }
    );
  };
})());
