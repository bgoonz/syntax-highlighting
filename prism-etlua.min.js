!(e => {
  (e.languages.etlua = {
    delimiter: { pattern: /^<%[-=]?|-?%>$/, alias: "punctuation" },
    "language-lua": { pattern: /[\s\S]+/, inside: e.languages.lua },
  }),
    e.hooks.add("before-tokenize", a => {
      e.languages["markup-templating"].buildPlaceholders(
        a,
        "etlua",
        /<%[\s\S]+?%>/g
      );
    }),
    e.hooks.add("after-tokenize", a => {
      e.languages["markup-templating"].tokenizePlaceholders(a, "etlua");
    });
})(Prism);
